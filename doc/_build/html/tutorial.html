
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Getting started &mdash; resty 0.1.1 documentation</title>
    
    <link rel="stylesheet" href="_static/pyramid.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="resty 0.1.1 documentation" href="index.html" />
    <link rel="prev" title="Installation" href="installing.html" />
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Neuton&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Nobile:regular,italic,bold,bolditalic&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->

  </head>
  <body>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="installing.html" title="Installation"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">resty 0.1.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="getting-started">
<h1>Getting started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<p>This tutorial aims to get you started with resty as quickly as possible.</p>
<p>It is made up of a number of examples of increasing complexity, each of which shows one or more useful resty features.</p>
<p>If you have any comments about these tutorials, or suggestions for things we should cover in them, then please contact us via <a class="reference external" href="https://github.com/pbs/resty/">Github</a></p>
<div class="section" id="step-1-configure-the-client">
<h2>Step 1: Configure the client<a class="headerlink" href="#step-1-configure-the-client" title="Permalink to this headline">¶</a></h2>
<p><tt class="xref py py-mod docutils literal"><span class="pre">resty</span></tt> provides two types of clients:</p>
<ul class="simple">
<li>the default client - uses summaries if available therefore the interactions with the api are much faster</li>
<li>dumb_client - does not use summaries and relies strictly on links</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Summary of the resource can be available as additional attributes on the collection</p>
</div>
</div>
<div class="section" id="step-2-load-the-entrypoint-and-select-a-service">
<h2>Step 2: Load the entrypoint and select a service<a class="headerlink" href="#step-2-load-the-entrypoint-and-select-a-service" title="Permalink to this headline">¶</a></h2>
<p>The URL where the Service document is located is named the API Entrypoint.
In the provided example we use the sodor api url as an entrypoint and selecting the zipcode service from the available services.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">resty</span> <span class="kn">import</span> <span class="n">client</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s">&quot;http://services.pbs.org/&quot;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">zipcode_service</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">service</span><span class="p">(</span><span class="s">&quot;zipcodes&quot;</span><span class="p">)</span>
<span class="go">&lt;resty.types.Collection object at 0x2597e90&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="step-3-use-filters">
<h2>Step 3: Use filters<a class="headerlink" href="#step-3-use-filters" title="Permalink to this headline">¶</a></h2>
<p>The <em>$filters</em> are used to describe complex interactions that usually require some sort of human input. One particularly common situation is searching trough the elements of a collection. Templates are available only in collections. Since <em>zipcode_service</em> returns a collection object we can filter it based on zip.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">filtered_zipcodes</span> <span class="o">=</span> <span class="n">zipcode_service</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="s">&#39;zip&#39;</span><span class="p">,</span> <span class="n">zipcode</span><span class="o">=</span><span class="s">&#39;22202&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You need to pass to filter method the filter name (<em>zip</em>) and as <a href="#id1"><span class="problematic" id="id2">**</span></a>kwargs the placeholder name (<em>zipcodes</em>) with desired value (<em>22202</em>)</p>
</div>
</div>
<div class="section" id="step-4-iterating-through-items">
<h2>Step 4: Iterating through items<a class="headerlink" href="#step-4-iterating-through-items" title="Permalink to this headline">¶</a></h2>
<p>Items represents the list of objects available in that collection. In the above example the <em>filtered_zipcodes</em> returns a collection with a single object. Let&#8217;s select the first object from the list:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">zipcode_resource</span> <span class="o">=</span> <span class="n">filtered_zipcodes</span><span class="o">.</span><span class="n">items</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zipcode_resource</span>
<span class="go">&lt;resty.types.Resource object at 0x259fc50&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="step-5-accessing-metadata-and-usefull-content">
<h2>Step 5: Accessing metadata and usefull content<a class="headerlink" href="#step-5-accessing-metadata-and-usefull-content" title="Permalink to this headline">¶</a></h2>
<p>At this point we have a <em>zipcode_resource</em> and we can extract informations like metadata and content specific informations</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">zipcode_resource</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">zipcode</span>
<span class="go">u&#39;22202&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">zipcode_resource</span><span class="o">.</span><span class="n">class_</span>
<span class="go">u&#39;Zipcode&#39;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All properties which are prefixed with $ are considered metadata</p>
</div>
</div>
<div class="section" id="step-6-using-links-to-interact-with-available-relationships">
<h2>Step 6: Using links to interact with available relationships<a class="headerlink" href="#step-6-using-links-to-interact-with-available-relationships" title="Permalink to this headline">¶</a></h2>
<p>The $links property groups together all the relationships the resource identified by the $self attribute that is located on the same level with the $links property has.</p>
<p>The available relationships for the zipcode resource are:</p>
<ul class="simple">
<li>search   -&gt; returns callsigns for the current zipcode</li>
<li>related  -&gt; returns states for the current zipcode</li>
<li>presence -&gt; returns headens for the current zipcode</li>
</ul>
<p>Let&#8217;s see all the callsigns that are available for zipcode 22202 with their corresponding confidence:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">callsign_collection</span> <span class="o">=</span> <span class="n">zipcode_resource</span><span class="o">.</span><span class="n">related</span><span class="p">(</span><span class="s">&#39;search&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">callsign_collection</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">print</span> <span class="n">c</span><span class="o">.</span><span class="n">related</span><span class="p">(</span><span class="s">&#39;related&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">callsign</span><span class="p">,</span> <span class="n">c</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">confidence</span>
<span class="go">WETA 100</span>
<span class="go">WMPB 100</span>
<span class="go">WWPB 100</span>
<span class="go">WHUT 100</span>
<span class="go">WFPT 100</span>
<span class="go">WVPY 100</span>
<span class="go">WMPT 100</span>
<span class="go">WGTV 80</span>
<span class="go">KRMA 80</span>
<span class="go">WTTW 80</span>
<span class="go">WTVS 0</span>
<span class="go">KCTS 0</span>
<span class="go">KSPS 0</span>
<span class="go">WGBH 0</span>
<span class="go">WNED 0</span>
</pre></div>
</div>
</div>
<div class="section" id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Permalink to this headline">¶</a></h2>
<p>resty is:</p>
<ul class="simple">
<li>fast</li>
<li>easy to use</li>
<li>smart</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Getting started</a><ul>
<li><a class="reference internal" href="#step-1-configure-the-client">Step 1: Configure the client</a></li>
<li><a class="reference internal" href="#step-2-load-the-entrypoint-and-select-a-service">Step 2: Load the entrypoint and select a service</a></li>
<li><a class="reference internal" href="#step-3-use-filters">Step 3: Use filters</a></li>
<li><a class="reference internal" href="#step-4-iterating-through-items">Step 4: Iterating through items</a></li>
<li><a class="reference internal" href="#step-5-accessing-metadata-and-usefull-content">Step 5: Accessing metadata and usefull content</a></li>
<li><a class="reference internal" href="#step-6-using-links-to-interact-with-available-relationships">Step 6: Using links to interact with available relationships</a></li>
<li><a class="reference internal" href="#conclusion">Conclusion</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="installing.html"
                        title="previous chapter">Installation</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="installing.html" title="Installation"
             >previous</a> |</li>
        <li><a href="index.html">resty 0.1.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Core Services Team.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>